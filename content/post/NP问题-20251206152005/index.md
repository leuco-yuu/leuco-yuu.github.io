+++
title= "NP问题与归约"
date= "2025-12-06T15:19:03+08:00"
lastmod= "2025-12-06T15:19:03+08:00"
draft=false
author= "leuco"
keywords= ["NP问题", "P问题", "时间复杂度"]
categories= ["算法理论", "学习笔记"]
tags= ["NP问题", "P问题", "时间复杂度"]
math=true
+++

{{<toc>}}

# NP问题与归约

## 几类问题

### P类问题(polynomial)

- 定义：可以在多项式时间内被确定性图灵机解决的问题
- 时间复杂度：多项式时间，如 $ O(n) $ , $ O(n\log n) $ , $ O(n^3 $ )等等
- 经典问题：小数背包问题、搜索、排序、Dijkstra、AKS算法等

### NP类问题（Nondeterministic polynomial）

- 定义：给定一个证书（certification），可以在多项式时间内验证此证书是否是问题的一个解。只保证在多项式时间内能够验证解的准确性，而无法保证可解。
- 例如：哈密顿回路问题、TSP问题、SAT问题等
- P类问题一定是NP类问题，NP类问题不一定是P类问题

### NPC问题（NP完全问题）

- 定义：
  - 本身是NP问题（可快速验证解）
  - 所有的NP问题都可以转换成此问题。即：所有的NP问题都可以在多项式时间内归约（reducibility）成此问题
- 例如：3-SAT、顶点覆盖、团问题、子集和问题等
- 对于最优化的验证问题（例如旅行商问题），可以转化为一个判断问题

### NP-Hard问题（NP难问题）

- 定义：至少和NPC问题一样难，但不一定属于NP问题。即所有NP问题都能归约到它，但其本身不一定是NP问题。

- 例如：TSP、围棋必胜策略、停机问题等

## 关系与比较

|问题类型|是否快速求解|是否快速验证|是否所有NP可归约|典型例子|
|-|-|-|-|-|
|P|✅|✅|❌|排序|
|NP	|❓（未知）|✅|❌|TSP验证|
|NPC|❓（未知）|✅|✅|3-SAT|	
|NPH|❌（更难）|❌（可能）|✅|TSP优化|	

  ```mermaid
  graph TB
  	subgraph NP-Hard
  		direction TB
  		subgraph NP
  			direction TB
  			subgraph NPC
  			end
  			subgraph P
  			end
  		end
  	end
  ```

## 归约性

- 一个问题（ $ Q_1 $ ）可以归约为另外一个问题（ $ Q_2 $ ）： $ Q_1 $ 可以转换为 $ Q_2 $ ，之后可以通过求解 $ Q_2 $ 的方法来求解 $ Q_1 $ 
- 简单的比喻：求解一元一次方程可归约为求解一元二次方程（二次项系数为0）
- 定义：一个问题（ $ Q_1 $ ）可以归约为另外一个问题（ $ Q_2 $ ）需满足：
  - **实例对应性**：$ Q_1 $ 得任意一个实例 $ \phi $ ，通过函数 $ f $ 都可转化成 $ Q_2 $ 的一个实例 $ f(\phi) $ ，且这个转化函数 $ f $ 必须为**多项式时间**
  - **输出一致性**：归约后的输出和原来的输出一致，即，如 $ algo_1 $ 是 $ Q_1 $ 的算法， $ algo_2 $ 是 $ Q_2 $ 的算法，则在相同的输入下， $ algo_1(Q_1)=algo_2(Q_2) $ 
- 归约的传递性：如果问题 $\mathcal{A}$ 可归约为问题 $\mathcal{B}$ ，问题B可归约为问题 $\mathcal{C}$ ，则问题 $\mathcal{A}$ 可归约为问题 $\mathcal{C}$



