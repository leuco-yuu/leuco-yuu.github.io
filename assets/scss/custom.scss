// 强制所有数学公式容器都有滚动条区域
.post-content .MathJax,
.post-content .MathJax_Display,
.post-content .MathJax_SVG_Display,
.post-content mjx-container,
.post-content .katex-display,
.post-full-content .MathJax,
.post-full-content .MathJax_Display,
.post-full-content .MathJax_SVG_Display,
.post-full-content mjx-container,
.post-full-content .katex-display {
    // 确保始终显示横向滚动能力
    overflow-x: auto !important;
    overflow-y: hidden !important;
    
    // 添加明确的滚动区域指示
    padding: 12px 4px !important;
    margin: 12px 0 !important;
    
    // 添加视觉提示
    position: relative !important;
    
    // 最大宽度控制
    max-width: 100vw !important;
    box-sizing: border-box !important;
    
    // 背景色提示
    background: linear-gradient(90deg, 
        rgba(248, 248, 248, 0.2) 0%, 
        rgba(248, 248, 248, 0.1) 50%, 
        rgba(248, 248, 248, 0.2) 100%) !important;
    border-radius: 4px !important;
    border: 1px solid rgba(221, 221, 221, 0.5) !important;
}

// 为所有数学公式添加"可滚动"的视觉提示
.post-content .MathJax::after,
.post-content .katex-display::after,
.post-full-content .MathJax::after,
.post-full-content .katex-display::after {
    content: "";
    position: absolute !important;
    right: 8px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    width: 24px !important;
    height: 24px !important;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23999'%3E%3Cpath d='M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z'/%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3C/svg%3E") !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    opacity: 0.5 !important;
    pointer-events: none !important;
    display: none; /* 默认隐藏 */
}

// 当公式确实需要滚动时才显示箭头
.post-content .MathJax.scrollable::after,
.post-content .katex-display.scrollable::after,
.post-full-content .MathJax.scrollable::after,
.post-full-content .katex-display.scrollable::after {
    display: block !important;
}

// 美化滚动条样式（始终显示）
.post-content ::-webkit-scrollbar,
.post-full-content ::-webkit-scrollbar {
    height: 10px !important;
    width: 10px !important;
}

.post-content ::-webkit-scrollbar-track,
.post-full-content ::-webkit-scrollbar-track {
    background: rgba(240, 240, 240, 0.8) !important;
    border-radius: 5px !important;
}

.post-content ::-webkit-scrollbar-thumb,
.post-full-content ::-webkit-scrollbar-thumb {
    background: rgba(180, 180, 180, 0.8) !important;
    border-radius: 5px !important;
    border: 2px solid rgba(240, 240, 240, 0.8) !important;
}

.post-content ::-webkit-scrollbar-thumb:hover,
.post-full-content ::-webkit-scrollbar-thumb:hover {
    background: rgba(150, 150, 150, 0.9) !important;
}